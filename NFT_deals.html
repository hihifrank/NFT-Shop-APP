<html><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        ::-webkit-scrollbar { display: none;}
        body { font-family: 'Inter', sans-serif; }
        :root {
            --color-primary-500: #3b82f6;
            --color-secondary-500: #8b5cf6;
            --color-success-500: #10b981;
            --color-neutral-700: #374151;
        }
        .hover-scale:hover { transform: scale(1.05); transition: transform 0.2s ease; }
        .fade-in { opacity: 0; animation: fadeIn 0.3s ease-in-out forwards; }
        @keyframes fadeIn { to { opacity: 1; } }
        .countdown-timer { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        .dark { --color-bg: #1f2937; --color-text: #f9fafb; }
    </style>
    <script>tailwind.config = {
        "theme": {
            "extend": {
                "colors": {
                    "primary": {
                        "50": "#eff6ff",
                        "500": "#3b82f6",
                        "600": "#2563eb"
                    },
                    "secondary": {
                        "500": "#8b5cf6"
                    },
                    "success": {
                        "500": "#10b981"
                    }
                },
                "fontFamily": {}
            }
        }
    };</script>
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"><style>
    .highlighted-section {
        outline: 2px solid #3F20FB;
        background-color: rgba(63, 32, 251, 0.1);
    }

    .edit-button {
        position: absolute;
        z-index: 1000;
    }

    ::-webkit-scrollbar {
        display: none;
    }

    html, body {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
</style></head>
<body class="bg-gray-50 dark:bg-gray-900 overflow-x-hidden">

<div id="mobile-container" class="max-w-sm mx-auto bg-white dark:bg-gray-800 min-h-screen relative">

    <header id="header" class="sticky top-0 z-50 bg-white dark:bg-gray-800 border-b border-neutral-200 dark:border-gray-700 px-4 py-3">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <button id="menu-btn" class="text-neutral-700 dark:text-gray-300">
                    <i class="fas fa-bars text-lg"></i>
                </button>
                <h1 class="text-lg font-bold text-neutral-900 dark:text-white">ShopTransit</h1>
            </div>
            <div class="flex items-center space-x-2">
                <button id="theme-toggle" class="text-neutral-600 dark:text-gray-400 hover-scale">
                    <i class="fas fa-moon text-sm"></i>
                </button>
                <select id="language-select" class="text-sm bg-transparent text-neutral-600 dark:text-gray-400 border-none outline-none">
                    <option value="en">EN</option>
                    <option value="zh-hant">繁</option>
                    <option value="zh-hans">简</option>
                </select>
                <button id="connect-wallet-btn" class="bg-black text-white px-3 py-2 rounded-lg text-sm font-medium hover-scale flex items-center space-x-1">
                    <i class="fas fa-wallet text-xs"></i>
                    <span>Connect</span>
                </button>
            </div>
        </div>
    </header>

    <main id="main-content" class="px-4 py-6 space-y-4 pb-20">

        <section id="deals-header" class="flex items-center justify-between">
            <h2 class="text-lg font-bold text-neutral-900 dark:text-white">AI Recommended NFT Deals</h2>
            <button id="view-all-btn" class="text-sm text-neutral-600 dark:text-gray-400 hover:text-primary-500 transition-colors">View All</button>
        </section>

        <section id="nft-price-chart" class="bg-gray-900 border border-gray-800 rounded-xl p-4 mb-4">
            <div class="flex items-center justify-between mb-3">
                <h3 class="text-lg font-bold text-white">Morning Tea House NFT</h3>
                <div class="flex items-center space-x-2">
                    <span class="text-green-400 text-sm font-medium">+12.5%</span>
                    <span class="text-xs text-gray-400">24h</span>
                </div>
            </div>
            <div class="flex items-center space-x-3 mb-4">
                <span class="text-2xl font-bold text-white">0.085 ETH</span>
                <span class="text-sm text-gray-400">≈ $156.30</span>
            </div>
            <div id="price-chart" class="h-32 w-full"></div>
            <div class="flex justify-between text-xs text-gray-400 mt-2">
                <span>1D</span>
                <span>7D</span>
                <span class="text-primary-400">30D</span>
                <span>90D</span>
                <span>1Y</span>
            </div>
        </section>

        <section id="list-nft-section" class="bg-gray-900 border border-gray-800 rounded-xl p-4 mb-4">
            <div class="flex items-center justify-between mb-3">
                <h3 class="text-lg font-bold text-white">List Your NFTs</h3>
                <i class="fas fa-plus-circle text-primary-400 text-xl"></i>
            </div>
            <p class="text-sm text-gray-400 mb-4">Turn your NFTs into exclusive deals and earn rewards</p>
            <div class="space-y-3">
                <button class="w-full bg-primary-600 hover:bg-primary-700 text-white py-3 rounded-lg font-medium transition-colors hover-scale">
                    <i class="fas fa-upload mr-2"></i>
                    List New NFT Deal
                </button>
                <div class="grid grid-cols-2 gap-2">
                    <button class="bg-gray-800 hover:bg-gray-700 text-gray-300 py-2 rounded-lg text-sm transition-colors hover-scale">
                        <i class="fas fa-eye mr-1"></i>
                        Preview
                    </button>
                    <button class="bg-gray-800 hover:bg-gray-700 text-gray-300 py-2 rounded-lg text-sm transition-colors hover-scale">
                        <i class="fas fa-chart-line mr-1"></i>
                        Analytics
                    </button>
                </div>
            </div>
        </section>

        <section id="ai-coupons-section" class="space-y-3">

            <div class="nft-deal-card bg-gray-900 border border-gray-800 rounded-xl p-4 hover:outline-2 hover:outline-primary-500 hover:bg-gray-800 transition-all cursor-pointer hover-scale relative" data-deal="tea-house">
                <div class="absolute top-2 right-2 bg-yellow-600 text-black text-xs px-2 py-1 rounded-full font-bold">Legendary</div>
                <div class="flex items-start space-x-3">
                    <div class="w-16 h-16 bg-gradient-to-br from-primary-400 to-secondary-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-coffee text-white text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex text-yellow-400 text-xs mb-1">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <h3 class="text-white font-medium text-sm mb-1">Morning Tea House NFT Coupon</h3>
                        <div class="flex items-center space-x-2 mb-1">
                            <span class="text-xl font-bold text-green-400">15% OFF</span>
                            <span class="text-sm text-gray-500 line-through">$28.00</span>
                        </div>
                        <p class="text-xs text-gray-400">Rarity: 9.2/10</p>
                        <p class="text-xs text-gray-400 countdown-timer">Expires: 2025-10-15</p>
                    </div>
                    <button class="redeem-btn bg-primary-600 hover:bg-primary-700 text-white text-xs px-3 py-1 rounded-lg hover-scale" data-price="0.05">
                        Redeem
                    </button>
                </div>
            </div>

            <div class="nft-deal-card bg-gray-900 border border-gray-800 rounded-xl p-4 hover:outline-2 hover:outline-primary-500 hover:bg-gray-800 transition-all cursor-pointer hover-scale relative" data-deal="fashion">
                <div class="absolute top-2 right-2 bg-purple-600 text-white text-xs px-2 py-1 rounded-full">Rare</div>
                <div class="flex items-start space-x-3">
                    <div class="w-16 h-16 bg-gradient-to-br from-pink-400 to-purple-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-tshirt text-white text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex text-yellow-400 text-xs mb-1">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                        </div>
                        <h3 class="text-white font-medium text-sm mb-1">Fashion Boutique NFT Deal</h3>
                        <div class="flex items-center space-x-2 mb-1">
                            <span class="text-xl font-bold text-green-400">20% OFF</span>
                            <span class="text-sm text-gray-500 line-through">$45.00</span>
                        </div>
                        <p class="text-xs text-gray-400">Rarity: 7.8/10</p>
                        <p class="text-xs text-gray-400 countdown-timer">Expires: 2025-11-01</p>
                    </div>
                    <button class="redeem-btn bg-primary-600 hover:bg-primary-700 text-white text-xs px-3 py-1 rounded-lg hover-scale" data-price="0.03">
                        Redeem
                    </button>
                </div>
            </div>

            <div class="nft-deal-card bg-gray-900 border border-gray-800 rounded-xl p-4 hover:outline-2 hover:outline-primary-500 hover:bg-gray-800 transition-all cursor-pointer hover-scale relative" data-deal="gaming">
                <div class="absolute top-2 right-2 bg-gray-600 text-white text-xs px-2 py-1 rounded-full">Common</div>
                <div class="flex items-start space-x-3">
                    <div class="w-16 h-16 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-gamepad text-white text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex text-yellow-400 text-xs mb-1">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <h3 class="text-white font-medium text-sm mb-1">Gaming Store NFT Voucher</h3>
                        <div class="flex items-center space-x-2 mb-1">
                            <span class="text-xl font-bold text-green-400">10% OFF</span>
                            <span class="text-sm text-gray-500 line-through">$35.00</span>
                        </div>
                        <p class="text-xs text-gray-400">Rarity: 5.5/10</p>
                        <p class="text-xs text-gray-400 countdown-timer">Expires: 2025-12-31</p>
                    </div>
                    <button class="redeem-btn bg-primary-600 hover:bg-primary-700 text-white text-xs px-3 py-1 rounded-lg hover-scale" data-price="0.02">
                        Redeem
                    </button>
                </div>
            </div>

            <div class="nft-deal-card bg-gray-900 border border-gray-800 rounded-xl p-4 hover:outline-2 hover:outline-primary-500 hover:bg-gray-800 transition-all cursor-pointer hover-scale relative" data-deal="bookstore">
                <div class="absolute top-2 right-2 bg-orange-600 text-white text-xs px-2 py-1 rounded-full">Epic</div>
                <div class="flex items-start space-x-3">
                    <div class="w-16 h-16 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-book text-white text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex text-yellow-400 text-xs mb-1">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <h3 class="text-white font-medium text-sm mb-1">Literary Corner NFT Pass</h3>
                        <div class="flex items-center space-x-2 mb-1">
                            <span class="text-xl font-bold text-green-400">25% OFF</span>
                            <span class="text-sm text-gray-500 line-through">$22.00</span>
                        </div>
                        <p class="text-xs text-gray-400">Rarity: 8.7/10</p>
                        <p class="text-xs text-gray-400 countdown-timer">Expires: 2025-09-30</p>
                    </div>
                    <button class="redeem-btn bg-primary-600 hover:bg-primary-700 text-white text-xs px-3 py-1 rounded-lg hover-scale" data-price="0.04">
                        Redeem
                    </button>
                </div>
            </div>

            <div class="nft-deal-card bg-gray-900 border border-gray-800 rounded-xl p-4 hover:outline-2 hover:outline-primary-500 hover:bg-gray-800 transition-all cursor-pointer hover-scale relative" data-deal="electronics">
                <div class="absolute top-2 right-2 bg-purple-600 text-white text-xs px-2 py-1 rounded-full">Rare</div>
                <div class="flex items-start space-x-3">
                    <div class="w-16 h-16 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-laptop text-white text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex text-yellow-400 text-xs mb-1">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                        </div>
                        <h3 class="text-white font-medium text-sm mb-1">Tech Store NFT Discount</h3>
                        <div class="flex items-center space-x-2 mb-1">
                            <span class="text-xl font-bold text-green-400">18% OFF</span>
                            <span class="text-sm text-gray-500 line-through">$199.00</span>
                        </div>
                        <p class="text-xs text-gray-400">Rarity: 7.1/10</p>
                        <p class="text-xs text-gray-400 countdown-timer">Expires: 2025-08-15</p>
                    </div>
                    <button class="redeem-btn bg-primary-600 hover:bg-primary-700 text-white text-xs px-3 py-1 rounded-lg hover-scale" data-price="0.06">
                        Redeem
                    </button>
                </div>
            </div>

        </section>

        <section id="trending-section" class="space-y-3">
            <h3 class="text-lg font-bold text-white">Trending Collections</h3>
            <div class="grid grid-cols-2 gap-3">
                <div class="bg-gray-900 border border-gray-800 rounded-xl p-3 hover-scale">
                    <div class="w-full h-20 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg mb-2 flex items-center justify-center">
                        <i class="fas fa-utensils text-white text-2xl"></i>
                    </div>
                    <h4 class="font-semibold text-sm text-white">Food &amp; Dining</h4>
                    <p class="text-xs text-gray-400">156 NFTs</p>
                </div>
                <div class="bg-gray-900 border border-gray-800 rounded-xl p-3 hover-scale">
                    <div class="w-full h-20 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-lg mb-2 flex items-center justify-center">
                        <i class="fas fa-shopping-bag text-white text-2xl"></i>
                    </div>
                    <h4 class="font-semibold text-sm text-white">Retail</h4>
                    <p class="text-xs text-gray-400">89 NFTs</p>
                </div>
            </div>
        </section>

        <section id="featured-merchants" class="space-y-3">
            <h3 class="text-lg font-bold text-white">Featured Merchants</h3>
            <div class="space-y-2">
                <div class="bg-gray-900 border border-gray-800 rounded-lg p-3 flex items-center space-x-3 hover-scale">
                    <div class="w-12 h-12 bg-gradient-to-br from-red-400 to-orange-500 rounded-full flex items-center justify-center">
                        <i class="fas fa-store text-white"></i>
                    </div>
                    <div class="flex-1">
                        <h4 class="font-medium text-white text-sm">Dragon Mall</h4>
                        <p class="text-xs text-gray-400">Premium Shopping Center</p>
                    </div>
                    <div class="text-right">
                        <div class="flex text-yellow-400 text-xs">
                            <i class="fas fa-star"></i>
                            <span class="ml-1 text-gray-400">4.8</span>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-900 border border-gray-800 rounded-lg p-3 flex items-center space-x-3 hover-scale">
                    <div class="w-12 h-12 bg-gradient-to-br from-green-400 to-teal-500 rounded-full flex items-center justify-center">
                        <i class="fas fa-leaf text-white"></i>
                    </div>
                    <div class="flex-1">
                        <h4 class="font-medium text-white text-sm">Organic Market</h4>
                        <p class="text-xs text-gray-400">Fresh &amp; Sustainable</p>
                    </div>
                    <div class="text-right">
                        <div class="flex text-yellow-400 text-xs">
                            <i class="fas fa-star"></i>
                            <span class="ml-1 text-gray-400">4.9</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="statistics-section" class="bg-gray-900 border border-gray-800 rounded-xl p-4">
            <h3 class="text-lg font-bold text-white mb-3">Platform Stats</h3>
            <div class="grid grid-cols-2 gap-4">
                <div class="text-center">
                    <div class="text-2xl font-bold text-primary-400">2.4K</div>
                    <div class="text-xs text-gray-400">Active NFTs</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-primary-400">15.6K</div>
                    <div class="text-xs text-gray-400">Total Users</div>
                </div>
            </div>
        </section>

        <section id="wallet-status" class="bg-gray-900 border border-gray-800 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
                <h3 class="font-bold text-white">Wallet Status</h3>
                <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                    <span class="text-xs text-gray-400" id="wallet-status-text">Not Connected</span>
                </div>
            </div>
            <div class="text-center py-4">
                <i class="fas fa-wallet text-4xl text-gray-600 mb-2"></i>
                <p class="text-sm text-gray-400">Connect your wallet to start redeeming NFT deals</p>
            </div>
        </section>

    </main>

    <nav id="footer" class="fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-sm bg-white dark:bg-gray-800 border-t border-neutral-200 dark:border-gray-700 z-50 px-4 py-2">
        <div class="flex justify-around">
            <button class="nav-tab flex flex-col items-center space-y-1 text-xs text-neutral-600 dark:text-gray-400" data-target="home">
                <i class="fas fa-home text-lg"></i>
                <span>Home</span>
            </button>
            <button class="nav-tab flex flex-col items-center space-y-1 text-xs text-neutral-600 dark:text-gray-400" data-target="explore">
                <i class="fas fa-compass text-lg"></i>
                <span>Explore</span>
            </button>
            <button class="nav-tab flex flex-col items-center space-y-1 text-xs text-primary-500" data-target="ai-coupons-section" role="tab" aria-label="NFT Deals">
                <i class="fas fa-ticket-alt text-lg"></i>
                <span>NFT Deals</span>
            </button>
            <button class="nav-tab flex flex-col items-center space-y-1 text-xs text-neutral-600 dark:text-gray-400" data-target="favorites">
                <i class="fas fa-heart text-lg"></i>
                <span>Favorites</span>
            </button>
            <button class="nav-tab flex flex-col items-center space-y-1 text-xs text-neutral-600 dark:text-gray-400" data-target="profile">
                <i class="fas fa-user text-lg"></i>
                <span>Profile</span>
            </button>
        </div>
    </nav>

    <div id="wallet-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-sm">
            <div class="text-center mb-6">
                <h3 class="text-xl font-bold text-neutral-900 dark:text-white mb-2">Connect Wallet</h3>
                <p class="text-sm text-neutral-600 dark:text-gray-400">Choose your preferred wallet to connect</p>
            </div>
            <div class="space-y-3">
                <button class="wallet-option w-full flex items-center space-x-3 p-4 border border-neutral-200 dark:border-gray-600 rounded-xl hover:bg-neutral-50 dark:hover:bg-gray-700" data-wallet="metamask">
                    <div class="w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center">
                        <i class="fab fa-ethereum text-white"></i>
                    </div>
                    <span class="font-medium text-neutral-900 dark:text-white">MetaMask</span>
                </button>
                <button class="wallet-option w-full flex items-center space-x-3 p-4 border border-neutral-200 dark:border-gray-600 rounded-xl hover:bg-neutral-50 dark:hover:bg-gray-700" data-wallet="walletconnect">
                    <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-link text-white"></i>
                    </div>
                    <span class="font-medium text-neutral-900 dark:text-white">WalletConnect</span>
                </button>
            </div>
            <button id="close-wallet-modal" class="w-full mt-4 py-2 text-neutral-600 dark:text-gray-400 text-sm">Cancel</button>
        </div>
    </div>

</div>

<script>
    let isWalletConnected = false;
    let currentLanguage = 'en';
    let isDarkMode = false;

    const translations = {
        'en': {
            'title': 'AI Recommended NFT Deals',
            'viewAll': 'View All',
            'connect': 'Connect',
            'connected': 'Connected'
        },
        'zh-hant': {
            'title': 'AI 推薦 NFT 優惠',
            'viewAll': '查看全部',
            'connect': '連接',
            'connected': '已連接'
        },
        'zh-hans': {
            'title': 'AI 推荐 NFT 优惠',
            'viewAll': '查看全部',
            'connect': '连接',
            'connected': '已连接'
        }
    };

    function updateCountdown() {
        const timers = document.querySelectorAll('.countdown-timer');
        timers.forEach(timer => {
            const expireDate = new Date(timer.textContent.split(': ')[1]);
            const now = new Date();
            const diff = expireDate - now;

            if (diff > 0) {
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                timer.textContent = `Expires in: ${days}d ${hours}h`;
            }
        });
    }

    function connectWallet(walletType) {
        const connectBtn = document.getElementById('connect-wallet-btn');
        const walletStatus = document.getElementById('wallet-status-text');
        const statusDot = document.querySelector('#wallet-status .w-2');

        connectBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Connecting...';

        setTimeout(() => {
            isWalletConnected = true;
            connectBtn.innerHTML = '<i class="fas fa-check mr-2"></i>0x123...abc';
            connectBtn.classList.add('bg-green-600');
            connectBtn.classList.remove('bg-black');

            walletStatus.textContent = 'Connected';
            statusDot.classList.remove('bg-red-500');
            statusDot.classList.add('bg-green-500');

            document.getElementById('wallet-modal').classList.add('hidden');
            alert('Wallet connected successfully!');
        }, 2000);
    }

    function redeemNFT(button, price) {
        if (!isWalletConnected) {
            document.getElementById('wallet-modal').classList.remove('hidden');
            return;
        }

        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
        button.disabled = true;

        setTimeout(() => {
            button.innerHTML = 'Redeemed!';
            button.classList.remove('bg-black');
            button.classList.add('bg-green-600');
            alert('NFT redeemed successfully!');
        }, 2000);
    }

    function loadMoreDeals() {
        const dealsSection = document.getElementById('ai-coupons-section');
        const newDeals = [
            {
                title: 'Spa & Wellness NFT Token',
                discount: '30% OFF',
                originalPrice: '$80.00',
                rarity: 'Epic',
                rarityScore: '8.9/10',
                expiry: '2025-07-20',
                icon: 'spa',
                price: '0.07'
            },
            {
                title: 'Art Gallery NFT Pass',
                discount: '12% OFF',
                originalPrice: '$60.00',
                rarity: 'Rare',
                rarityScore: '6.8/10',
                expiry: '2025-06-30',
                icon: 'palette',
                price: '0.04'
            }
        ];

        newDeals.forEach(deal => {
            const dealElement = document.createElement('div');
            dealElement.className = 'nft-deal-card bg-white dark:bg-gray-700 border border-neutral-200 dark:border-gray-600 rounded-xl p-4 hover:outline-2 hover:outline-primary-500 hover:bg-primary-50 dark:hover:bg-gray-600 transition-all cursor-pointer hover-scale relative fade-in';
            dealElement.innerHTML = `
                    <div class="absolute top-2 right-2 bg-neutral-700 text-white text-xs px-2 py-1 rounded-full">${deal.rarity}</div>
                    <div class="flex items-start space-x-3">
                        <div class="w-16 h-16 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-${deal.icon} text-white text-xl"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex text-yellow-400 text-xs mb-1">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                            </div>
                            <h3 class="text-neutral-900 dark:text-white font-medium text-sm mb-1">${deal.title}</h3>
                            <div class="flex items-center space-x-2 mb-1">
                                <span class="text-xl font-bold text-primary-500">${deal.discount}</span>
                                <span class="text-sm text-neutral-600 dark:text-gray-400 line-through">${deal.originalPrice}</span>
                            </div>
                            <p class="text-xs text-neutral-600 dark:text-gray-400">Rarity: ${deal.rarityScore}</p>
                            <p class="text-xs text-neutral-600 dark:text-gray-400 countdown-timer">Expires: ${deal.expiry}</p>
                        </div>
                        <button class="redeem-btn bg-black text-white text-xs px-3 py-1 rounded-lg hover-scale" data-price="${deal.price}">
                            Redeem
                        </button>
                    </div>
                `;
            dealsSection.appendChild(dealElement);
        });

        attachRedeemListeners();
    }

    function attachRedeemListeners() {
        document.querySelectorAll('.redeem-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                const price = btn.getAttribute('data-price');
                redeemNFT(btn, price);
            });
        });
    }

    function updateLanguage(lang) {
        currentLanguage = lang;
        const t = translations[lang];

        document.querySelector('#deals-header h2').textContent = t.title;
        document.querySelector('#view-all-btn').textContent = t.viewAll;

        const connectBtn = document.getElementById('connect-wallet-btn');
        if (!isWalletConnected) {
            connectBtn.querySelector('span').textContent = t.connect;
        }
    }

    function toggleDarkMode() {
        isDarkMode = !isDarkMode;
        document.documentElement.classList.toggle('dark', isDarkMode);

        const themeIcon = document.querySelector('#theme-toggle i');
        themeIcon.className = isDarkMode ? 'fas fa-sun text-sm' : 'fas fa-moon text-sm';
    }

    function scrollToSection(targetId) {
        const target = document.getElementById(targetId);
        if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        updateCountdown();
        setInterval(updateCountdown, 60000);

        attachRedeemListeners();

        document.getElementById('connect-wallet-btn').addEventListener('click', () => {
            if (!isWalletConnected) {
                document.getElementById('wallet-modal').classList.remove('hidden');
            }
        });

        document.querySelectorAll('.wallet-option').forEach(option => {
            option.addEventListener('click', () => {
                const walletType = option.getAttribute('data-wallet');
                connectWallet(walletType);
            });
        });

        document.getElementById('close-wallet-modal').addEventListener('click', () => {
            document.getElementById('wallet-modal').classList.add('hidden');
        });

        document.getElementById('view-all-btn').addEventListener('click', loadMoreDeals);

        document.getElementById('language-select').addEventListener('change', (e) => {
            updateLanguage(e.target.value);
        });

        document.getElementById('theme-toggle').addEventListener('click', toggleDarkMode);

        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.nav-tab').forEach(t => {
                    t.classList.remove('text-primary-500');
                    t.classList.add('text-neutral-600', 'dark:text-gray-400');
                });

                tab.classList.remove('text-neutral-600', 'dark:text-gray-400');
                tab.classList.add('text-primary-500');

                const targetId = tab.getAttribute('data-target');
                scrollToSection(targetId);
            });
        });

        document.getElementById('wallet-modal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('wallet-modal')) {
                document.getElementById('wallet-modal').classList.add('hidden');
            }
        });

        // Initialize price chart
        const chartData = [
            0.065, 0.068, 0.072, 0.069, 0.075, 0.078, 0.082, 0.085,
            0.083, 0.087, 0.089, 0.085, 0.088, 0.092, 0.089, 0.085
        ];

        const canvas = document.createElement('canvas');
        canvas.width = 300;
        canvas.height = 120;
        canvas.className = 'w-full h-full';
        document.getElementById('price-chart').appendChild(canvas);

        const ctx = canvas.getContext('2d');
        const gradient = ctx.createLinearGradient(0, 0, 0, 120);
        gradient.addColorStop(0, 'rgba(59, 130, 246, 0.3)');
        gradient.addColorStop(1, 'rgba(59, 130, 246, 0.05)');

        // Draw chart background
        ctx.fillStyle = gradient;
        ctx.beginPath();
        ctx.moveTo(0, 120);

        chartData.forEach((value, index) => {
            const x = (index / (chartData.length - 1)) * 300;
            const y = 120 - ((value - 0.06) / 0.04) * 100;
            if (index === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
        });

        ctx.lineTo(300, 120);
        ctx.closePath();
        ctx.fill();

        // Draw chart line
        ctx.strokeStyle = '#3b82f6';
        ctx.lineWidth = 2;
        ctx.beginPath();

        chartData.forEach((value, index) => {
            const x = (index / (chartData.length - 1)) * 300;
            const y = 120 - ((value - 0.06) / 0.04) * 100;
            if (index === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
        });

        ctx.stroke();
    });
</script>


</body></html>